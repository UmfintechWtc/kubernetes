[program:kube-controller-manager]
process_name = %(program_name)s
command={{ k8s_master_bin_path }}/kube-controller-manager
  --allocate-node-cidrs=true
  --cluster-cidr=10.244.0.0/16
  --node-cidr-mask-size=24
  --authentication-kubeconfig={{ k8s_master_cfg_path }}/kube-controller-manager.kubeconfig
  --authorization-kubeconfig={{ k8s_master_cfg_path }}/kube-controller-manager.kubeconfig
  --bind-address=0.0.0.0
  --client-ca-file={{ k8s_master_ssl_path }}/ca.pem
  --cluster-name=kubernetes
  --cluster-signing-cert-file={{ k8s_master_ssl_path }}/ca.pem
  --cluster-signing-key-file={{ k8s_master_ssl_path }}/ca-key.pem
  --cluster-signing-duration=876000h
  --concurrent-deployment-syncs=10
  --controllers=*,bootstrapsigner,tokencleaner
  --horizontal-pod-autoscaler-initial-readiness-delay=30s
  --horizontal-pod-autoscaler-sync-period=10s
  --kube-api-burst=100
  --kube-api-qps=100
  --kubeconfig={{ k8s_master_cfg_path }}/kube-controller-manager.kubeconfig
  --leader-elect=true
  --logtostderr=false
  --log-file={{ k8s_master_logs_path }}/kube-controller-manager/kube-controller-manager.log
  --log-file-max-size=100
  --pod-eviction-timeout=1m
  --root-ca-file={{ k8s_master_ssl_path }}/ca.pem
  --secure-port={{ controller_manager_port }}
  --service-account-private-key-file={{ k8s_master_ssl_path }}/apiserver-key.pem
  --tls-cert-file={{ k8s_master_ssl_path }}/kube-controller-manager.pem
  --tls-private-key-file={{ k8s_master_ssl_path }}/kube-controller-manager-key.pem
  --use-service-account-credentials=true"
directory={{ k8s_master_path }}
user= {{ app.user }}
startsecs=3
autostart = true
autorestart = true
stopwaitsecs = 360
stopsignal = KILL
stopasgroup = true
stdout_logfile = {{ k8s_master_logs_path }}/kube-controller-manager/%(program_name)s-stdout.log
stdout_logfile_maxbytes=100MB
stdout_logfile_backups=5
stderr_logfile = {{ k8s_master_logs_path }}/kube-controller-manager/%(program_name)s-stderr.log
stderr_logfile_maxbytes=100MB
stderr_logfile_backups=5